# Админ-панель RedHeads

## Установка

### 1. Создание базы данных

Выполните SQL скрипт из файла `api/create_database.sql` в вашей MySQL базе данных:

```bash
mysql -u root -p < api/create_database.sql
```

Или импортируйте через phpMyAdmin.

### 2. Настройка подключения к БД

Отредактируйте файл `config.php` в корне проекта, если нужно изменить настройки подключения к базе данных.

### 3. Доступ к админ-панели

Откройте в браузере: `http://localhost/admin/login.php`

**Данные для входа по умолчанию:**
- Имя пользователя: `admin`
- Пароль: `admin123`

⚠️ **Важно:** После первого входа смените пароль администратора!

## Функционал

### Управление игроками
- Добавление новых игроков
- Редактирование существующих игроков
- Удаление игроков
- Управление ролями и номерами игроков

### Управление играми
- Добавление новых игр
- Загрузка видео файлов (MP4, AVI, MOV, WEBM, MKV)
- Загрузка Excel файлов со статистикой (XLSX, XLS, XLSM)
- Удаление игр (с удалением связанных файлов)

## Структура файлов

```
RedHeads/
├── admin/
│   ├── login.php          # Страница авторизации
│   ├── index.php          # Главная страница админ-панели
│   ├── players.php        # Управление игроками
│   └── games.php          # Управление играми
├── api/
│   ├── auth.php           # API авторизации
│   ├── players.php        # API управления игроками
│   ├── games.php          # API управления играми
│   └── db.php             # Подключение к БД
├── uploads/                # Загруженные файлы
├── videos/                 # Видео файлы игр
└── data/                   # Excel файлы со статистикой
```

## Безопасность

- Все API endpoints защищены проверкой авторизации
- Пароли хранятся в виде хешей (bcrypt)
- Сессии используются для управления авторизацией
- Загружаемые файлы проверяются на тип и размер

## Изменение пароля администратора

Для изменения пароля администратора выполните SQL запрос:

```sql
UPDATE users 
SET password_hash = PASSWORD_HASH('новый_пароль', PASSWORD_DEFAULT) 
WHERE username = 'admin';
```

Или используйте PHP:
```php
<?php
echo password_hash('ваш_новый_пароль', PASSWORD_DEFAULT);
?>
```

Скопируйте полученный хеш и обновите запись в базе данных.

